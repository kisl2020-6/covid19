<!doctype html>
<html lang="ja">
<meta charset="utf-8">
<title>運動量調査</title>
<head>
<link rel="stylesheet" href="style.css">
</head>
<header><img src="img/run.jpg"></header>
<body>
<h1><span>あなたは健康維持できている？</span></h1>
<p>新型コロナウイルスの影響で最近体がなまっていたり、あまり動かしていないなあ…と思っているそこのあなた！もしかしたら健康な体づくりができていないかもしれません！<br>
このページでは、あなたの一日の活動から健康維持できているかどうかを短い時間で診断することができます。診断結果で健康維持できていないと診断されても大丈夫！そのときにはあなたにおすすめの家庭内や家の近くでできる運動や活動を提案します！</p>
<hr>
<div class="q">
<p>あなたの一日の平均的な活動と、それを行っている大体の時間(分単位)を入力してください。</p>
</div>
<form name="form" action="mets.cgi" method="post">
 <select name="category1" onChange="setMenu(this.selectedIndex,q_number)">
  <option value="">カテゴリを選択してください</option>
  <option value="A">運動、筋トレなど</option>
  <option value="B">家事</option>
  <option value="C">外出時</option>
  <option value="D">趣味</option>
 </select>
 <select name="exercise1" style="visibility:hidden">
  <option value=""></option>
 </select>
 <br id = "br_1">
 <input type="text" name="time1" placeholder="何分運動しましたか？">
 <br id = "br_2">
 <div id ="display_area"></div>
 <div class="input_wrap">
 <input type="submit" value="診断する" class="button">
 </div>
</form>
 <div class="add_wrap">
<input type="button" value="質問を追加する" onclick="add_question()" class="button">
 </div> 
<script type="text/javascript">
    
menuItem = [[ ],["ピラティス","腕立て","映像を用いた運動(Wii Fitなど)","ヨガ","スクワット","ウェイトリフティング、パワーリフティング","エアロビクスダンス","エアロビクス","腹筋","なわとび","背筋","有酸素運動","ウェイトトレーニング","ランニングマシーンを用いたウォーキング","ランニングマシーンを用いたジョギング、ランニング"],["掃除","部屋の片づけ","大工仕事","ガーデニング、庭仕事"],["自転車に乗る","歩行","ランニング"],["楽器の演奏","ガーデニング","美術品・工芸品作り","お菓子作り","フリスビー","ゴルフ","武術（少林拳とか）","スケートボード"] ];
menuvalue = [[ ],["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15"], ["16","17","18","19"],["20","21","22"],["23","24","25","26","27","28","29","30"]];
var count = 2,
    q_number = 1;
    
function setMenu(n,q_number) {
var category = "category" + q_number,
    exercise = "exercise" + q_number;
    
m = document.form[category].value;
len = document.form[exercise].options.length;
    
for (i=len-1; i>=0; i--) {
document.form[exercise].options[i] = null;
}

document.form[exercise].style.visibility = "visible";

if(m == ""){
document.form[exercise].style.visibility = "hidden";
}

for (i=0; i<menuItem[n].length; i++) {
document.form[exercise].options[i] = new Option(menuItem[n][i],menuvalue[n][i]);
}
}
    
function add_question() {
    // クローン生成
    category   = document.getElementsByName('category1');
    item   = document.getElementsByName('exercise1');
    br_1 = document.getElementById('br_1');
    time   = document.getElementsByName('time1');
    br_2 = document.getElementById('br_2');

    clone_1 = category[0].cloneNode(true);
    clone_2 = item[0].cloneNode(true);
    clone_3 = br_1.cloneNode(true);
    clone_4 = time[0].cloneNode(true);
    clone_5 = br_2.cloneNode(true);
    // nameの設定
    clone_1.name           = "category" + count;
    clone_2.name           = "exercise" + count;
    clone_4.name           = "time" + count;
    // 表示
    base = document.getElementById('display_area')
    base.appendChild(clone_1);
    base.appendChild(clone_2);
    base.appendChild(clone_3);
    base.appendChild(clone_4);
    base.appendChild(clone_5);
    // カウンタアップ
    count++;
    q_number++;
}
    

</script>
</body>